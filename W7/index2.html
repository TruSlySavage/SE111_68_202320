<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--edit the meta tag below to hold YOUR name!-->
    <meta name="author" content="Tony Rodriguez">
    <meta name="description" content="Week 7 Assignment practicing Javascript & HTML">
    <title>Week 7 | Pay Form Calculator Assignment</title>
</head>
<body>

    <!--title of the page-->
   <h1> Pay Calculator Form </h1>

   <!--start of the form-->
   <!--each <input> must have an id that matches its corresponding label -->
   <!--each form element is separated by a break space (new line) -->
    <form>
        <label for="first">First Name: </label>
        <input type="text" id="first">

        <br>

        <label for="last">Last Name: </label>
        <input type="text" id="last">

        <br>

        <label for="hours">Hours Worked: </label>
        <input type="text" id="hours">

        <br>

        <label for="rate">Hourly Rate: </label>
        <input type="text" id="rate">

        <br>

        <br>



        <!-- give the button below (that is the only form element without a label) an id of "enter-button"-->
        <input type="button" id="enter-button" value="Enter">

        <br>
        <br>

        <div id="final" style="border:1px solid rgb(87, 86, 86); padding:15px; background-color:rgb(168, 168, 168);">

            <h3>Employee Info: </h3>
            <p id="info" style="font-family:Courier New, monospace;"><i>Information will be loaded once above form is filled.</i></p>
            <!---NOTES FOR TESTING:
                    *below is where the form values (and new values processed by the js) will be displayed-->
            <p id="check" style="font-family:Courier New, monospace; width:220px; text-align:right;"></p>
        </div> 

        <br>
        <br>

        <!--NOTES FOR TESTING:
                *clicking the below button will trigger a call to the submitNow()
                *success will be determined if correct info is displayed in the alert()-->
        <h3><i>If the above information is correct, please press "SUBMIT"</i></h3>
        <input type="button" id="submit" value="SUBMIT">
    </form>

<script>
    //selecting elements from the HTML document --> 'document' current HTML file
    //global variable: accessible everywhere after its creation
    var body = document.querySelector(`body`); //selecting by HTML tag name

    //accessing HTML attributes
    body.id = `main-body`;
    console.log(body);

    //set up an actionable event so that when a button is clicked, information is written to the page. FIRST: add event listener for event (action)
    //adding an event listern to the #enter-button at end of the mini form
    document
        .querySelector(`#enter-button`)
        .addEventListener(`click`, alertInfo);

    //alertInfo() functiond definition is below - must include e/ev/event
    //requires the 'e' parameter to hold event data
    function alertInfo(e) {
        //local variables: their value only exists inside of alertInfo()
        //these local variables will hold the VALUES from the mini form
        var first = document.querySelector(`#first`).value;
        var last = document.querySelector(`#last`).value;
        var hours = document.querySelector(`#hours`).value;
        var rate = document.querySelector(`#rate`).value;

        //numbers from input need to be cast!
        hours = Number(hours);
        rate = Number(rate);

        //store HTML element #info into a var to use
        var info = document.querySelector(`#info`);

        //calculate gross pay
        var grossPay = (hours * rate).toFixed(2);
        var tax = (grossPay * 0.2).toFixed(2);
        var netPay = (grossPay - tax).toFixed(2);

        //once values are stored, we can use them!
        var full = first + ` ` + last;

        //test values before writing to the HTML
        console.log(
            `Name: ${full} \nHours: ${hours} \nPay rate: ${rate} \nTax Amount: ${tax} \nNet Pay: ${netPay}`
        );
        //add the new age data to the #info element
        info.innerHTML += `<p>Pay Calculator <br><br>HOURS WORKED: ${hours} <br> HOURLY RATE: ${rate} <br> GROSS PAY: ${grossPay} <br> TAX AMOUNT: ${tax} <br> NET PAY ${netPay}</p>`;
    } //END of alertInfo()

    //selecting another button on the page
    document
        .querySelector(`#submit`)
        .addEventListener(`click`, submitNow);

    function submitNow(e) {
        //local variables:
        //these local variables will hold the VALUES from the mini form
        var first = document.querySelector(`#first`).value;
        var last = document.querySelector(`#last`).value;
        var hours = document.querySelector(`#hours`).value;
        var rate = document.querySelector(`#rate`).value;

        //cast information to numbers
        hours = Number(hours);
        rate = Number(rate);

        //calculate gross pay
        var grossPay = (hours * rate).toFixed(2);
        var tax = (grossPay * 0.2).toFixed(2);
        var netPay = (grossPay - tax).toFixed(2);

        //Variable for full name
        var full = first + ` ` + last;

        alert(
            `Hi, ${full} \n\nHOURS WORKED: ${hours} \nHOURLY RATE: ${rate} \nGROSS PAY: ${grossPay} \nTAX AMOUNT: ${tax} \nNET PAY: ${netPay}`
        );
    }
    </script>

</body>
</html>
